const discography = [{
        albumArt: "./assets/greatestHits.png",
        albumName: "Viking Galaxy Greatest Hits",
        yearReleased: 2015,
        tracklist: ['Hall of the Slain', 'Call of the Valkyrie', 'Sickle of Hate', 'Lost Forver', 'Space Chariot', 'Final Frontier', 'Contact', 'Odin on Mars', 'Valhalla Has Fallen', 'Black Hole']
    },
    {
        albumArt: "./assets/firstContact.png",
        albumName: "First Contact",
        yearReleased: 2000,
        tracklist: ['Contact', 'Lost Forever', 'Call of the Valkyrie', 'Ales in Space', 'A Song for Home', 'Lost Control', 'Asgard in Ruins', 'Viking Funeral', 'Spaceship for Two', 'Metal is for Vikings']
    },
    {
        albumArt: "./assets/metalThor.png",
        albumName: "Metal Thor",
        yearReleased: 2005,
        tracklist: ['Hall of the Slain', 'Final Frontier', 'Odin on Mars', 'Loki Sucks', 'Thor\'s Revenge', 'My Horse is Metal', 'Mjolnir', 'Space Lightning', 'Your Beard', 'Crossing Swords']
    },
    {
        albumArt: "./assets/spaceNorseman.png",
        albumName: "Space Norseman",
        yearReleased: 2010,
        tracklist: ['Black Hole', 'Sickle of Hate', 'Space Chariot', 'Valhalla Has Fallen', 'Metal on the Fjord', 'Hall of the Space Legends', 'Night of the Battle', 'Dark Angel', 'The Last Asteroid', 'Mead']
    },
];

const concerts = [{
        Date: "1/05/2019",
        Venue: "Mad Bomber",
        Location: "Germany",
    },
    {
        Date: "1/20/2019",
        Venue: "Big Tower",
        Location: "France",
    },
    {
        Date: "2/06/2019",
        Venue: "Maple ehh",
        Location: "Canada",
    },
    {
        Date: "2/18/2019",
        Venue: "Winter Palace",
        Location: "Russia",
    },
    {
        Date: "2/28/2019",
        Venue: "Desert Oasis",
        Location: "Pakistan",
    },
    {
        Date: "3/03/2019",
        Venue: "Midnight Club",
        Location: "Ukraine",
    },
    {
        Date: "3/18/2019",
        Venue: "Fiesta Cresto",
        Location: "Mexico",
    },
    {
        Date: "3/28/2019",
        Venue: "Lil Mehico",
        Location: "New Mexico, US",
    },
    {
        Date: "4/04/2019",
        Venue: "Whiskey Den",
        Location: "Tennessee, US",
    },
    {
        Date: "4/26/2019",
        Venue: "Devils House",
        Location: "Georgia, US",
    },
    {
        Date: "5/05/2019",
        Venue: "Atlantis",
        Location: "Florida, US",
    },
    {
        Date: "5/29/2019",
        Venue: "Wakanda Forever",
        Location: "South Africa",
    },
    {
        Date: "6/08/2019",
        Venue: "Fire & Ice",
        Location: "New Zealand",
    },
    {
        Date: "6/25/2019",
        Venue: "Missile Crisis",
        Location: "Cuba",
    },
    {
        Date: "7/13/2019",
        Venue: "High Five",
        Location: "Jamaica",
    },
    {
        Date: "7/27/2019",
        Venue: "Rainforest Cafe",
        Location: "Brazil",
    },
    {
        Date: "8/16/2019",
        Venue: "Giza",
        Location: "Egypt",
    },
    {
        Date: "9/17/2019",
        Venue: "Icy Tundra",
        Location: "Antartica",
    },
    {
        Date: "10/20/2035",
        Venue: "Lunar Lander",
        Location: "Moon",
    },
    {
        Date: "11/11/2111",
        Venue: "Musks Palace",
        Location: "Mars",
    },
]

const vikingMerch = [{
        imageURL: "./assets/Viking Galaxy Hat.png",
        item: "Viking Galaxy Hat",
        price: 25.99,
        isAvailable: '   Yes'
    },
    {
        imageURL: "./assets/vg-shirt.png",
        item: "Viking Galaxy Shirt",
        price: 10.99,
        isAvailable: '   Yes'
    },
    {
        imageURL: "./assets/Viking Galaxy Sticker.png",
        item: "Viking Galaxy Sticker Pack",
        price: 12.99,
        isAvailable: '   Yes'
    },
    {
        imageURL: "./assets/Poster.png",
        item: "Viking Galaxy Poster",
        price: 8.99,
        isAvailable: '   More on the way'
    },
    {
        imageURL: "./assets/Coffee Mug.png",
        item: "Viking Galaxy Coffee Mug",
        price: 11.99,
        isAvailable: '   More on the way'
    },
    {
        imageURL: "./assets/Tote.png",
        item: "Viking Galaxy Tote Bag",
        price: 5.99,
        isAvailable: '   Yes'
    },
    {
        imageURL: "./assets/Hoodie.png",
        item: "Viking Galaxy Hoodie",
        price: 45.99,
        isAvailable: '   Yes'
    }
];

const vikings = [{
        image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSWhZ4DGyHhSC67jyT_EcUe9JU72y7EKLYQZsGdJqLm8yvj7Npfeg&s",
        name: "Ron Eriksen",
        instrument: "Guitar & Vocals",
        qoute: "The wobbling guitars through the chorus are simply divine."
    },
    {
        image: "https://2.bp.blogspot.com/-jdgJcTFCumE/TboTsnwAjII/AAAAAAAABVY/rkViKft9rTI/s1600/vikinggalaxy.pk++%25289%2529.jpg",
        name: "Matt Jordan",
        instrument: "Drums",
        qoute: "My hi-fi couldn't deal with the awesomeness and exploded."
    },
    {
        image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTk5Ov-pVW1XDU6yQFD-HKPX88GBEuRJPS2-XlwXNjIRnRm2VhR&s",
        name: "Mike Gonzalez",
        instrument: "Bass",
        qoute: "After hearing this album I have applied to both Nasa and the Nordic Viking Federation"
    },
    {
        image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS8xrGiagZXkmUwSNKGdgfU21c5Pz8uLO0x_thZEqc1qkWalXgA&s",
        name: "Justin Zych",
        instrument: "Guitar",
        qoute: "In the end I had to use a nuclear fusion-powered device I contructed out of titanium to deal with the epicness."
    },
]

const printToDom = (divId, textToPrint) => {
    let selectedDiv = document.getElementById(divId);
    selectedDiv.innerHTML = textToPrint;
};

// Function to push band members to About page
vikingBuilder = () => {
    let domString = "";

    for (let i = 0; i < vikings.length; i++) {

        domString += `<div class="col-xl-3 col-lg-6 col-md-6 mb-5">`
        domString +=    `<div class="bandCards card ml-auto mr-auto rounded-0">`;
        domString +=        `<img src="${vikings[i].image}" class="card-img-top img-fluid rounded" alt="a picture of ${vikings[i].name}"></img>`
        domString +=            `<div class="card-body bg-dark">`;
        domString +=                `<h3 class="card-title text-center">${vikings[i].name}</h3>`;
        domString +=                `<h4 class="text-center">${vikings[i].instrument}</h4>`;
        domString +=                `<q class="text-center font-italic">${vikings[i].qoute}</q>`;
        domString +=            `</div>`;
        domString +=    `</div>`;

        domString += `</div>`;
    }   
    printToDom("band-members", domString)
}

// function to push albums to Discography page - includes carousel functionality
const albumBuilder = (arr) => {
    let domString = '';
    for (let i = 0; i < arr.length; i++) {
        if (arr[i] === arr[0]) {
            domString += `<div class="row carousel-item container-fluid active">`;
            domString += `<div class="album-content text-center col-md-12">`;
            domString += `<h2 class="album-title">${arr[i].albumName}</h2>`;
            domString += `<h3 class="album-year mb-4">${arr[i].yearReleased}</h3>`;
            domString += `<div class="album-artwork">`;
            domString += `<img class="img-fluid w-50" src="${arr[i].albumArt}" alt="picture of ${arr[i].albumName} album artwork">`;
            domString += `</div>`;
            domString += `<div class="tracklist-container mt-4">`;
            domString += `<div class="row">`;
            domString += `<div class="tracks-left col-md-2 ml-auto">`;
            domString += `<p>1. ${arr[i].tracklist[0]}</p>`;
            domString += `<p>2. ${arr[i].tracklist[1]}</p>`;
            domString += `<p>3. ${arr[i].tracklist[2]}</p>`;
            domString += `<p>4. ${arr[i].tracklist[3]}</p>`;
            domString += `<p>5. ${arr[i].tracklist[4]}</p>`;
            domString += `</div>`;
            domString += `<div class="tracks-right col-md-2 mr-auto">`;
            domString += `<p>6. ${arr[i].tracklist[5]}</p>`;
            domString += `<p>7. ${arr[i].tracklist[6]}</p>`;
            domString += `<p>8. ${arr[i].tracklist[7]}</p>`;
            domString += `<p>9. ${arr[i].tracklist[8]}</p>`;
            domString += `<p>10. ${arr[i].tracklist[9]}</p>`;
            domString += `</div>`;
            domString += `</div>`;
            domString += `</div>`;
            domString += `</div>`;
            domString += `</div>`;
        } else {
            domString += `<div class="row carousel-item container-fluid">`;
            domString += `<div class="album-content text-center col-md-12">`;
            domString += `<h2 class="album-title">${arr[i].albumName}</h2>`;
            domString += `<h3 class="album-year mb-4">${arr[i].yearReleased}</h3>`;
            domString += `<div class="album-artwork">`;
            domString += `<img class="img-fluid w-50" src="${arr[i].albumArt}" alt="picture of ${arr[i].albumName} album artwork">`;
            domString += `</div>`;
            domString += `<div class="tracklist-container mt-4">`;
            domString += `<div class="row">`;
            domString += `<div class="tracks-left col-md-2 ml-auto">`;
            domString += `<p>1. ${arr[i].tracklist[0]}</p>`;
            domString += `<p>2. ${arr[i].tracklist[1]}</p>`;
            domString += `<p>3. ${arr[i].tracklist[2]}</p>`;
            domString += `<p>4. ${arr[i].tracklist[3]}</p>`;
            domString += `<p>5. ${arr[i].tracklist[4]}</p>`;
            domString += `</div>`;
            domString += `<div class="tracks-right col-md-2 mr-auto">`;
            domString += `<p>6. ${arr[i].tracklist[5]}</p>`;
            domString += `<p>7. ${arr[i].tracklist[6]}</p>`;
            domString += `<p>8. ${arr[i].tracklist[7]}</p>`;
            domString += `<p>9. ${arr[i].tracklist[8]}</p>`;
            domString += `<p>10. ${arr[i].tracklist[9]}</p>`;
            domString += `</div>`;
            domString += `</div>`;
            domString += `</div>`;
            domString += `</div>`;
            domString += `</div>`;
        };
    }
    printToDom('albums', domString);
}

// function to push tour dates to Tour page - includes Bootstrap table 
const concertBuilder = (arr) => {
    let domString = '';
    ticketIdCreator();
    for (let i = 0; i < arr.length; i++) {
        domString += `<tr>`;
        domString += `<td>${arr[i].Date}</td>`;
        domString += `<td>${arr[i].Venue}</td>`;
        domString += `<td>${arr[i].Location}</td>`;
        domString += `<td><button id=${arr[i].Id}>Tickets</button></td>`;
        domString += `</tr>`;
    }
    printToDom("tour-info", domString);

    ticketButtonEvents(arr);
}


//function that creates tickets id's-SZ
const ticketIdCreator = () => {
    for (let i = 0; i < concerts.length; i++) {
        concerts[i].Id = i.toString();
    }
    return concerts;
}

//functions that creates addeventlisteners for each ticket button id-SZ
const ticketButtonEvents = (arr) => {
    for (let i = 0; i < arr.length; i++) {

        document.getElementById(arr[i].Id).addEventListener('click', purchaseTickets);
    }
}

//Alert that is called when you click the tickets button-SZ
const purchaseTickets = (e) => {
    let ticketId = e.target.id;
    if (concerts[ticketId].Location === 'Moon') {
        alert(`Congrats! You bought your tickets for the ${concerts[ticketId].Venue} showing located on the ${concerts[ticketId].Location} on ${concerts[ticketId].Date}.`);
    } else if (concerts[ticketId].Location === 'Mars') {
        alert(`Congrats! You bought your tickets for the ${concerts[ticketId].Venue} showing located on ${concerts[ticketId].Location} on ${concerts[ticketId].Date}.`);
    } else {
        alert(`Congrats! You bought your tickets for the ${concerts[ticketId].Venue} showing located in ${concerts[ticketId].Location} on ${concerts[ticketId].Date}.`);
    }
}

// function that populates merch.html with bootstrap cards
const merchBuilder = (arr) => {
    let domString = '';
    for (let i = 0; i < arr.length; i++) {
        if (arr[i].isAvailable === '   Yes') {
            domString += `<div class="card bg-dark pt-4 pb-4 m-3 rounded-0 col-lg-3 text-center" style="width: 18rem;">`
            domString += `<img src="${arr[i].imageURL}" class="card-img-top" alt="${arr[i].item}">`
            domString += `<div class="card-body"></div>`
            domString += `<h3 class="card-title">${arr[i].item}</h3>`
            domString += `<h4>$${arr[i].price}</h4>`
            domString += `<p>In Stock: <span class="text-success">${arr[i].isAvailable}</span></p>`
            domString += `</div>`;
        } else {
            domString += `<div class="card bg-dark pt-4 pb-4 m-3 rounded-0 col-lg-3 text-center" style="width: 18rem;">`
            domString += `<img src="${arr[i].imageURL}" class="card-img-top" alt="${arr[i].item}">`
            domString += `<div class="card-body"></div>`
            domString += `<h3 class="card-title">${arr[i].item}</h3>`
            domString += `<h4>$${arr[i].price}</h4>`
            domString += `<p class="mb-5">In Stock: <span class="text-danger">${arr[i].isAvailable}</span></p>`
            domString += `<a class="btn btn-warning font-weight-bold text-dark rounded-0 emailMe">Let me know when they are back!</a>` 
            domString += `</div>`;

        }
    }
    printToDom("merch-card", domString);
    addEmailMe();
}

// adds event listener to merch "let me know when they are back" button
const addEmailMe = () => {
    let emailButtons = document.getElementsByClassName('emailMe');
    for (let i = 0; i < emailButtons.length; i++) {
        emailButtons[i].addEventListener('click', emailForm);
    }
}

// function that adds email form to unavailable merch
const emailForm = () => {
    let domString = '';
        domString += '<form class="text-center">'
        domString += '<div class="form-group">'
        domString += '<label for="inputEmail" class="control-label">Enter your email address and we will let you know when they are back</label>'
        domString += '<input type="email" class="form-control" id="inputEmail" placeholder="Your Email">'
        domString += '</div>'
        domString += '<div class="form-group">'
        domString += '<label for="itemWanted">What merch item do you want that is out of stock?</label>'
        domString += '<input type="item" class="form-control" id="itemWanted" placeholder="Type item name here">'
        domString += '</div>'
        domString += '<div class="form-group">'
        domString += '<button id="emailSubmit" type="submit" class="btn btn-primary">Submit</button>'
        domString += '</div>'
        domString += '</form>'
        printToDom('merch-card', domString);
        document.getElementById('emailSubmit').addEventListener('click', emailSuccess);
}


// function that alerts success after submission
const emailSuccess = (e) => {
    e.preventDefault();
    let domString = '';
        domString += '<div class="alert alert-success" role="alert col-12">We will let you know when more awesome Viking Merch is back in stock! '
        domString += '<a href="./merch.html" class="stretched-link font-weight-bold text-lowercase">Continue Shopping</a>'
        domString += '</div>'
    printToDom('merch-card', domString);
}

const init = () => {
    if (window.location.pathname === '/discography.html') {
        albumBuilder(discography);
    } else if (window.location.pathname === '/tour.html') {
        concertBuilder(concerts);
    } else if (window.location.pathname === '/about.html') {
        vikingBuilder(vikings);
    } else if (window.location.pathname === '/merch.html') {
        merchBuilder(vikingMerch);
    }
}

init();